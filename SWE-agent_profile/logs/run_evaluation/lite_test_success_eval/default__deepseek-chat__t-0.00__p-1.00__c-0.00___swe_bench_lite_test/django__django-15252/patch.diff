diff --git a/django/db/migrations/recorder.py b/django/db/migrations/recorder.py
index 1a37c6b7d0..7d9f7871de 100644
--- a/django/db/migrations/recorder.py
+++ b/django/db/migrations/recorder.py
@@ -1,5 +1,5 @@
 from django.apps.registry import Apps
-from django.db import DatabaseError, models
+from django.db import DatabaseError, models, router
 from django.utils.functional import classproperty
 from django.utils.timezone import now
 
@@ -52,12 +52,18 @@ class MigrationRecorder:
 
     def has_table(self):
         """Return True if the django_migrations table exists."""
+        # If migrations are not allowed for this database, the table doesn't exist
+        if not router.allow_migrate_model(self.connection.alias, self.Migration):
+            return False
         with self.connection.cursor() as cursor:
             tables = self.connection.introspection.table_names(cursor)
         return self.Migration._meta.db_table in tables
 
     def ensure_schema(self):
         """Ensure the table exists and has the correct schema."""
+        # If migrations are not allowed for this database, don't create the table
+        if not router.allow_migrate_model(self.connection.alias, self.Migration):
+            return
         # If the table's there, that's fine - we've never changed its schema
         # in the codebase.
         if self.has_table():
diff --git a/test_migration_recorder_issue.py b/test_migration_recorder_issue.py
new file mode 100644
index 0000000000..ea05d48d0e
--- /dev/null
+++ b/test_migration_recorder_issue.py
@@ -0,0 +1,89 @@
+#!/usr/bin/env python
+"""
+Test script to reproduce the MigrationRecorder issue with db routers.
+"""
+import os
+import sys
+import django
+from django.conf import settings
+
+# Configure Django settings
+if not settings.configured:
+    settings.configure(
+        DEBUG=True,
+        DATABASES={
+            'default': {
+                'ENGINE': 'django.db.backends.sqlite3',
+                'NAME': ':memory:',
+            },
+            'other': {
+                'ENGINE': 'django.db.backends.sqlite3',
+                'NAME': ':memory:',
+            }
+        },
+        INSTALLED_APPS=[
+            'django.contrib.contenttypes',
+            'django.contrib.auth',
+        ],
+        DATABASE_ROUTERS=['test_migration_recorder_issue.TestRouter'],
+    )
+
+django.setup()
+
+# Define the test router
+class TestRouter:
+    """A router that only allows migrations on the 'default' database."""
+    def allow_migrate(self, db, app_label, **hints):
+        if db == 'default':
+            return True
+        return False
+
+# Now test the MigrationRecorder behavior
+from django.db import connections
+from django.db.migrations.recorder import MigrationRecorder
+
+def test_migration_recorder():
+    print("Testing MigrationRecorder behavior with db routers...")
+    
+    # Test on 'default' database (should allow migrations)
+    print("\n1. Testing on 'default' database (should allow migrations):")
+    default_connection = connections['default']
+    default_recorder = MigrationRecorder(default_connection)
+    
+    # Check if table exists
+    has_table_default = default_recorder.has_table()
+    print(f"   - django_migrations table exists on 'default': {has_table_default}")
+    
+    # Try to ensure schema (this should create the table)
+    try:
+        default_recorder.ensure_schema()
+        has_table_after_default = default_recorder.has_table()
+        print(f"   - django_migrations table exists after ensure_schema on 'default': {has_table_after_default}")
+    except Exception as e:
+        print(f"   - Error on 'default': {e}")
+    
+    # Test on 'other' database (should NOT allow migrations)
+    print("\n2. Testing on 'other' database (should NOT allow migrations):")
+    other_connection = connections['other']
+    other_recorder = MigrationRecorder(other_connection)
+    
+    # Check if table exists
+    has_table_other = other_recorder.has_table()
+    print(f"   - django_migrations table exists on 'other': {has_table_other}")
+    
+    # Try to ensure schema (this should NOT create the table due to router)
+    try:
+        other_recorder.ensure_schema()
+        has_table_after_other = other_recorder.has_table()
+        print(f"   - django_migrations table exists after ensure_schema on 'other': {has_table_after_other}")
+        
+        if has_table_after_other:
+            print("   - BUG CONFIRMED: Table was created on 'other' database despite router returning False!")
+        else:
+            print("   - Table was not created (expected behavior)")
+            
+    except Exception as e:
+        print(f"   - Error on 'other': {e}")
+
+if __name__ == '__main__':
+    test_migration_recorder()
\ No newline at end of file
