{"model_name_or_path": "vllm_local__--data--models--GLM-4.5-FP8__t-0.00__p-1.00__c-0.00___swe_bench_lite_test__bs4", "instance_id": "django__django-15819", "model_patch": "diff --git a/django/core/management/commands/inspectdb.py b/django/core/management/commands/inspectdb.py\nindex f33bcbdccf..54da5b4608 100644\n--- a/django/core/management/commands/inspectdb.py\n+++ b/django/core/management/commands/inspectdb.py\n@@ -133,6 +133,11 @@ class Command(BaseCommand):\n                 known_models.append(table2model(table_name))\n                 used_column_names = []  # Holds column names used in the table so far\n                 column_to_field_name = {}  # Maps column names to names of model fields\n+                \n+                # Track model references to detect multiple relations to the same model\n+                model_reference_count = {}\n+                field_info_list = []  # Store field information for later processing\n+                \n                 for row in table_description:\n                     comment_notes = (\n                         []\n@@ -182,6 +187,10 @@ class Command(BaseCommand):\n                             if ref_db_table == table_name\n                             else table2model(ref_db_table)\n                         )\n+                        # Count model references to detect multiple relations to same model\n+                        if rel_to not in model_reference_count:\n+                            model_reference_count[rel_to] = 0\n+                        model_reference_count[rel_to] += 1\n                         if rel_to in known_models:\n                             field_type = \"%s(%s\" % (rel_type, rel_to)\n                         else:\n@@ -215,6 +224,32 @@ class Command(BaseCommand):\n                         extra_params[\"blank\"] = True\n                         extra_params[\"null\"] = True\n \n+                    # Store field information for later processing\n+                    field_info = {\n+                        'att_name': att_name,\n+                        'field_type': field_type,\n+                        'extra_params': extra_params.copy(),\n+                        'comment_notes': comment_notes.copy(),\n+                        'is_relation': is_relation,\n+                    }\n+                    if is_relation:\n+                        field_info['rel_to'] = rel_to\n+                        field_info['rel_type'] = rel_type\n+                    field_info_list.append(field_info)\n+                \n+                # Generate field descriptions with related_name where needed\n+                for field_info in field_info_list:\n+                    att_name = field_info['att_name']\n+                    field_type = field_info['field_type']\n+                    extra_params = field_info['extra_params']\n+                    comment_notes = field_info['comment_notes']\n+                    \n+                    # Add related_name for relations to models that are referenced multiple times\n+                    if field_info['is_relation'] and model_reference_count.get(field_info['rel_to'], 0) > 1:\n+                        # Don't add related_name if it's already specified\n+                        if 'related_name' not in extra_params:\n+                            extra_params['related_name'] = att_name\n+                    \n                     field_desc = \"%s = %s%s\" % (\n                         att_name,\n                         # Custom fields will have a dotted path\n@@ -234,6 +269,7 @@ class Command(BaseCommand):\n                     if comment_notes:\n                         field_desc += \"  # \" + \" \".join(comment_notes)\n                     yield \"    %s\" % field_desc\n+                    \n                 is_view = any(\n                     info.name == table_name and info.type == \"v\" for info in table_info\n                 )\n"}