{"model_name_or_path": "vllm_local__--data--models--GLM-4.5-FP8__t-0.00__p-1.00__c-0.00___swe_bench_lite_test__bs4", "instance_id": "matplotlib__matplotlib-23299", "model_patch": "diff --git a/lib/matplotlib/__init__.py b/lib/matplotlib/__init__.py\nindex c268a56724..76df864153 100644\n--- a/lib/matplotlib/__init__.py\n+++ b/lib/matplotlib/__init__.py\n@@ -1175,7 +1175,38 @@ def get_backend():\n     --------\n     matplotlib.use\n     \"\"\"\n-    return rcParams['backend']\n+    # Get the raw backend value without triggering auto-resolution\n+    backend = dict.__getitem__(rcParams, 'backend')\n+    if backend is rcsetup._auto_backend_sentinel:\n+        # Resolve the auto backend without switching backends or closing figures\n+        current_framework = cbook._get_running_interactive_framework()\n+        mapping = {'qt': 'qtagg',\n+                   'gtk3': 'gtk3agg',\n+                   'gtk4': 'gtk4agg',\n+                   'wx': 'wxagg',\n+                   'tk': 'tkagg',\n+                   'macosx': 'macosx',\n+                   'headless': 'agg'}\n+\n+        best_guess = mapping.get(current_framework, None)\n+        if best_guess is not None:\n+            candidates = [best_guess]\n+        else:\n+            candidates = []\n+        candidates += [\n+            \"macosx\", \"qtagg\", \"gtk4agg\", \"gtk3agg\", \"tkagg\", \"wxagg\"]\n+\n+        # Try to find a working backend without actually switching\n+        for candidate in candidates:\n+            try:\n+                importlib.import_module(cbook._backend_module_name(candidate))\n+                return candidate\n+            except ImportError:\n+                continue\n+        else:\n+            # Fallback to agg which should always work\n+            return \"agg\"\n+    return backend\n \n \n def interactive(b):\n"}