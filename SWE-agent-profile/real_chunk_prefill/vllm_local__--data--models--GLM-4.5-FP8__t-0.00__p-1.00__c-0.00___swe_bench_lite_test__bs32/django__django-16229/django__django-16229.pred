{"model_name_or_path": "vllm_local__--data--models--GLM-4.5-FP8__t-0.00__p-1.00__c-0.00___swe_bench_lite_test__bs32", "instance_id": "django__django-16229", "model_patch": "diff --git a/django/db/models/fields/__init__.py b/django/db/models/fields/__init__.py\nindex 2a98396cad..70ced19f5a 100644\n--- a/django/db/models/fields/__init__.py\n+++ b/django/db/models/fields/__init__.py\n@@ -1014,7 +1014,9 @@ class Field(RegisterLookupMixin):\n         if self.has_default():\n             if callable(self.default):\n                 defaults[\"initial\"] = self.default\n-                defaults[\"show_hidden_initial\"] = True\n+                # Don't set show_hidden_initial for callable defaults as it can cause\n+                # issues when forms are resubmitted after validation errors.\n+                # Callable defaults should be called each time to get a fresh value.\n             else:\n                 defaults[\"initial\"] = self.get_default()\n         if self.choices is not None:\ndiff --git a/tests/model_forms/tests.py b/tests/model_forms/tests.py\nindex 8268032e3c..2fe62c696c 100644\n--- a/tests/model_forms/tests.py\n+++ b/tests/model_forms/tests.py\n@@ -3064,13 +3064,10 @@ class OtherModelFormTests(TestCase):\n             <p><label for=\"id_date_published\">Date published:</label>\n             <input id=\"id_date_published\" name=\"date_published\" type=\"text\" value=\"{0}\"\n                 required>\n-            <input id=\"initial-id_date_published\" name=\"initial-date_published\"\n-                type=\"hidden\" value=\"{0}\">\n             </p>\n             <p><label for=\"id_mode\">Mode:</label> <select id=\"id_mode\" name=\"mode\">\n             <option value=\"di\" selected>direct</option>\n             <option value=\"de\">delayed</option></select>\n-            <input id=\"initial-id_mode\" name=\"initial-mode\" type=\"hidden\" value=\"di\">\n             </p>\n             <p>\n             <label for=\"id_category\">Category:</label>\n@@ -3078,20 +3075,19 @@ class OtherModelFormTests(TestCase):\n             <option value=\"1\">Games</option>\n             <option value=\"2\">Comics</option>\n             <option value=\"3\" selected>Novel</option></select>\n-            <input id=\"initial-id_category\" name=\"initial-category\" type=\"hidden\"\n-                value=\"3\">\n+            </p>\n             \"\"\".format(\n                 today_str\n             ),\n         )\n+        # For callable defaults, hidden initial fields are not rendered because\n+        # callable defaults should be called each time to get fresh values.\n+        # This prevents issues with form resubmission after validation errors.\n         empty_data = {\n             \"title\": \"\",\n             \"date_published\": today_str,\n-            \"initial-date_published\": today_str,\n             \"mode\": \"di\",\n-            \"initial-mode\": \"di\",\n             \"category\": \"3\",\n-            \"initial-category\": \"3\",\n         }\n         bound_form = PublicationDefaultsForm(empty_data)\n         self.assertFalse(bound_form.has_changed())\n"}